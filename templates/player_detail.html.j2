<!-- player_detail.html.j2 -->
{% extends "base.html.j2" %}
{% from "_macros.html.j2" import color_table, commander_table, commander_modal %}

{% block title %}{{ player_name }} Stats{% endblock %}

{% block content %}
  <h1 class="heading heading--primary">{{ player_name }}'s Stats</h1>

  <section class="spotlight">
    <h2 class="heading heading--tertiary">Overall Performance</h2>
    <div class="flex justify-center gap-4 flex-wrap">
      <div class="p-4">
        <strong>Games Played:</strong> {{ stats.games_played }}
      </div>
      <div class="p-4">
        <strong>Wins:</strong> {{ stats.wins }}
      </div>
      <div class="p-4">
        <strong>Win Rate:</strong> {{ stats.win_rate }}%
      </div>
    </div>
  </section>

  <section>
    <h2 class="heading heading--secondary">Commanders Played</h2>
    {{ commander_table(commanders, clickable=true) }}
  </section>

  <section class="color-analysis">
    <h2 class="heading heading--secondary">Most Played Colors for {{ player_name }}</h2>
    {{ color_table(color_stats) }}
  </section>

  {{ commander_modal() }}

  <script src="{{ url_for('static', filename='js/commander-modal.js') }}"></script>
{% endblock %}