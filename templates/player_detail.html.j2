<!-- player_detail.html.j2 -->
{% extends "base.html.j2" %}
{% from "_macros.html.j2" import color_table %}

{% block title %}{{ player_name }} Stats{% endblock %}

{% block content %}
  <a href="{{ url_for('stats') }}" class="link link--back">‚Üê Back to Stats</a>
  
  <h1 class="heading heading--primary">{{ player_name }}'s Stats</h1>

  <section class="spotlight">
    <h2 class="heading heading--tertiary">Overall Performance</h2>
    <div class="flex justify-center gap-4 flex-wrap">
      <div class="p-4">
        <strong>Games Played:</strong> {{ stats.games_played }}
      </div>
      <div class="p-4">
        <strong>Wins:</strong> {{ stats.wins }}
      </div>
      <div class="p-4">
        <strong>Win Rate:</strong> {{ stats.win_rate }}%
      </div>
    </div>
  </section>

  <section>
    <h2 class="heading heading--secondary">Commanders Played</h2>
    <table class="table">
      <thead>
        <tr>
          <th class="table__header">Commander</th>
          <th class="table__header">Games Played</th>
          <th class="table__header">Wins</th>
          <th class="table__header">Win Rate (%)</th>
        </tr>
      </thead>
      <tbody>
        {% for c in commanders %}
        <tr class="table__row">
          <td class="table__cell">{{ c.commander_name }}</td>
          <td class="table__cell">{{ c.games_played }}</td>
          <td class="table__cell">{{ c.wins }}</td>
          <td class="table__cell">{{ c.win_rate }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </section>

  <section class="color-analysis">
    <h2 class="heading heading--secondary">Most Played Colors for {{ player_name }}</h2>
    {{ color_table(color_stats) }}
  </section>
{% endblock %}